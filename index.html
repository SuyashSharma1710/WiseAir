<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Air Finery - Outdoor Air Purifier</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
        background-color: #f0f2f5;
        color: #1a202c;
        overflow-x: hidden;
        scroll-behavior: smooth;
      }

      /* --- Custom Animations --- */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
          opacity: 0.7;
        }
        50% {
          transform: scale(1.05);
          opacity: 1;
        }
      }

      .fade-in-element {
        animation: fadeIn 1s ease-out forwards;
        opacity: 0;
      }

      /* For scroll-triggered animations */
      .reveal-on-scroll {
        opacity: 0;
        transform: translateY(40px);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
      }

      .reveal-on-scroll.is-visible {
        opacity: 1;
        transform: translateY(0);
      }

      /* --- Hero Section Specific Styles --- */
      #hero-section {
        height: 100vh;
        position: relative;
        overflow: hidden;
      }
      .hero-background {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-image: url("./img/sunny-landscape-with-windmills.avif");
          background-size: cover;
          background-position: center;
          transition: filter 1s ease-out; /* Add transition for the blur */
      }
      .hero-background.hazy {
          filter: blur(8px) grayscale(50%);
      }
      #mist-canvas {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          z-index: 20;
          opacity: 0; /* Initially hidden */
          pointer-events: none;
          transition: opacity 1.5s ease-out;
      }
      #hero-content {
          position: relative;
          z-index: 10;
          color: white;
          opacity: 0; /* Initially hidden */
          transition: opacity 1s ease-in;
      }
      #hero-content.visible {
          opacity: 1;
      }


      /* --- Before/After Slider --- */
      .comparison-slider {
        position: relative;
        overflow: hidden;
        cursor: col-resize;
      }
      .comparison-image-before {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        clip-path: polygon(0 0, 50% 0, 50% 100%, 0 100%);
      }
      .comparison-image-after {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      .slider-handle {
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 4px;
        height: 100%;
        background: white;
        z-index: 10;
      }
      .slider-handle:before {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 40px;
        height: 40px;
        border: 2px solid white;
        border-radius: 50%;
        background-color: rgba(255, 255, 255, 0.2);
      }
      .slider-handle:after {
        content: "â†”";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-size: 1.2rem;
      }

      /* --- Specs Section --- */
      .product-image {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: contain;
        transition: opacity 0.5s ease-in-out;
      }

      .spec-item {
        opacity: 0.3;
        transition: opacity 0.5s ease-in-out;
        padding: 10rem 0;
      }

      .spec-item.is-active {
        opacity: 1;
      }

      /* --- Interactive Deconstruction (Hotspots) --- */
      .hotspot {
        position: absolute;
        width: 24px;
        height: 24px;
        background-color: white;
        border: 2px solid #333;
        border-radius: 50%;
        cursor: pointer;
        animation: pulse 2s infinite;
        z-index: 30;
      }
      .hotspot-info {
        position: absolute;
        background-color: rgba(255, 255, 255, 0.95);
        color: #1a202c;
        padding: 1rem;
        border-radius: 0.5rem;
        width: 250px;
        opacity: 0;
        transform: translateY(10px);
        transition: opacity 0.3s ease-out, transform 0.3s ease-out,
          visibility 0.3s;
        pointer-events: none;
        z-index: 40;
        visibility: hidden;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      }
      .hotspot-info.is-active {
        opacity: 1;
        transform: translateY(0);
        visibility: visible;
      }
      .component-flyout {
        position: absolute;
        width: 150px;
        height: 150px;
        top: 50%;
        left: 50%;
        margin-top: -75px;
        margin-left: -75px;
        opacity: 0;
        transform: scale(0.5);
        transition: opacity 0.5s ease,
          transform 0.5s cubic-bezier(0.25, 1, 0.5, 1);
        pointer-events: none;
      }
      .component-flyout.is-active {
        opacity: 1;
      }
      #component-filter.is-active {
        transform: translate(-120%, -50%) scale(1);
      }
      #component-fan.is-active {
        transform: translate(120%, -50%) scale(1);
      }
      #component-sensor.is-active {
        transform: translate(0, 100%) scale(1);
      }
    </style>
  </head>
  <body class="antialiased">
    <header
      class="fixed top-0 left-1/2 -translate-x-1/2 w-[96vw] bg-white backdrop-blur rounded-full mx-auto my-4 shadow-sm z-50"
    >
      <nav
      class="container w-full mx-auto flex justify-between items-center py-4 px-6"
      >
      <a href="#hero-section"  class="scroll-link"
        ><img
        src="./img/WhatsApp Image 2025-09-08 at 15.14.26_163dd658_2.jpg"
        class="w-[140px]"
        alt=""
      /></a>

      <ul class="flex gap-6 text-sm font-medium">
        <li><a href="#Features-section" class="scroll-link">Features</a></li>
        <li><a href="#product-section" class="scroll-link">Technology</a></li>
        <li>
        <a href="#Experience-section" class="scroll-link">Experience</a>
        </li>
      </ul>
      <a href="#reservation-section" class="scroll-link">
      <button 
        class="bg-green-800 text-white px-4 py-2 rounded-full shadow hover:bg-green-600 transition duration-500"
      >
        Reserve Now
      </button>
      </a>
      </nav>
    </header>

    <section id="hero-section">
      <!-- The background image that will be blurred/cleared -->
      <div class="hero-background"></div>

      <!-- The canvas for the mist/smoke animation, initially hidden -->
      <canvas id="mist-canvas"></canvas>

      <!-- The text content that fades in after the animation -->
      <div id="hero-content" class="h-full flex flex-col items-center justify-center text-center p-4">
        <h1
          class="text-5xl md:text-8xl font-black tracking-tighter"
          style="text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.6)"
        >
          Change the <span class="text-green-700">Air</span>
        </h1>
        <h1
          class="text-5xl md:text-8xl font-black tracking-tighter"
          style="text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.6)"
        >
          around you.
        </h1>
        <p
          class="mt-4 text-lg md:text-xl max-w-2xl"
          style="text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.6)"
        >
          Experience the future of outdoor living.
        </p>
      </div>

      <div class="absolute bottom-10 left-1/2 -translate-x-1/2 z-20 animate-bounce">
        <svg
          class="w-8 h-8 text-white"
          fill="none"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
        </svg>
      </div>
    </section>

    <div class="bg-white">
      <section
        class="py-20 md:py-32 container mx-auto px-6 text-center"
        id="Features-section"
      >
        <div class="reveal-on-scroll">
          <h2
            class="text-4xl md:text-6xl font-bold text-gray-800 tracking-tight"
          >
            What you can't see,
          </h2>
          <h2
            class="text-4xl md:text-6xl font-bold text-green-700 tracking-tight"
          >
            you breathe.
          </h2>
          <p class="mt-6 max-w-3xl mx-auto text-lg text-gray-600">
            Every day, our outdoor spaces are filled with invisible pollutants.
            From traffic emissions to industrial dust, these particles affect
            our health and wellbeing.
          </p>
        </div>
        <div
          class="mt-16 relative flex flex-col justify-center items-center reveal-on-scroll"
          style="transition-delay: 200ms"
        >
          <video
            class="max-w-4xl w-full rounded-2xl shadow-2xl"
            src="./video/VN20250912_112708.mp4"
            autoplay
            muted
            loop
            playsinline
            preload="none"
          ></video>
        </div>
      </section>

      <section
        id="product-section"
        class="py-20 md:py-32 bg-gray-900 relative overflow-hidden"
      >
        <video
          class="absolute inset-0 w-full h-full object-cover z-0"
          src="./video/smoky_video.mp4"
          autoplay
          muted
          loop
          playsinline
          preload="none"
        ></video>
        <div class="absolute inset-0 bg-black/50 z-10"></div>
        <div class="container mx-auto px-6 text-center relative z-20">
          <div class="reveal-on-scroll">
            <h2
              class="text-4xl md:text-6xl font-bold text-white tracking-tight"
            >
              Purity by <span class="text-green-700">Design.</span> 
            </h2>
            <p class="mt-6 max-w-3xl mx-auto text-lg text-gray-200">
              Hover over the pulsing hotspots to explore the technology inside the
              Air Finery.
            </p>
          </div>
          <div
            id="product-interactive-container"
            class="mt-16 md:mt-24 relative h-[500px] w-full max-w-xl mx-auto reveal-on-scroll"
            style="transition-delay: 200ms"
          >
            <img
              src="./img/Picsart_25-09-10_11-46-12-304.png"
              alt="Air Finery Purifier Casing"
              class="absolute inset-0 w-full h-full object-contain"
              loading="lazy"
              decoding="async"
            />

            <img
              id="component-filter"
              src="./img/Gemini_Generated_Image_az92b3az92b3az92.png"
              alt="HEPA Filter"
              class="component-flyout drop-shadow-lg"
              loading="lazy"
              decoding="async"
            />
            <img
              id="component-fan"
              src="./img/shiny-metallic-propeller-turning-abstract-motion-generated-by-ai.jpg"
              alt="Vortex Fan"
              class="component-flyout drop-shadow-lg"
              loading="lazy"
              decoding="async"
            />
            <img
              id="component-sensor"
              src="./img/Frame 4.png"
              alt="Smart Sensor"
              class="component-flyout drop-shadow-lg"
              loading="lazy"
              decoding="async"
            />

            <div
              data-target="component-filter"
              class="hotspot"
              style="top: 45%; left: 35%"
            ></div>
            <div class="hotspot-info" style="top: 50%; left: 0">
              <h4 class="font-bold mb-2">Advanced Filter</h4>
              <p class="text-sm">
                A multi-layer HEPA filter captures 99.97% of airborne particles,
                including dust, pollen and smoke.
              </p>
            </div>

            <div
              data-target="component-fan"
              class="hotspot"
              style="top: 45%; right: 35%"
            ></div>
            <div class="hotspot-info" style="top: 50%; right: 0">
              <h4 class="font-bold mb-2">Vortex Fan</h4>
              <p class="text-sm">
                Generates powerful, yet silent airflow to purify large outdoor
                areas quickly and efficiently.
              </p>
            </div>

            <div
              data-target="component-sensor"
              class="hotspot"
              style="bottom: 15%; left: 50%; transform: translateX(-50%)"
            ></div>
            <div
              class="hotspot-info"
              style="bottom: 25%; left: 50%; transform: translateX(-50%)"
            >
              <h4 class="font-bold mb-2">Smart Sensor</h4>
              <p class="text-sm">
                Real-time air quality monitoring automatically adjusts
                purification levels for optimal performance.
              </p>
            </div>
          </div>
        </div>
      </section>

      <section
        class="py-20 md:py-32 select-none"
        style="
          -webkit-user-select: none;
          -ms-user-select: none;
          user-select: none;
        "
        id="Experience-section"
      >
        <div class="container mx-auto px-6 text-center">
          <div class="reveal-on-scroll">
            <h2
              class="text-4xl md:text-6xl font-bold text-gray-800 tracking-tight"
            >
              Experience the difference.
            </h2>
            <p class="mt-6 max-w-3xl mx-auto text-lg text-gray-600">
              Drag the slider to see the immediate impact Air Finery has on your
              environment. Go from hazy and polluted to crisp and clear in an
              instant.
            </p>
          </div>
          <div
            class="mt-16 max-w-4xl mx-auto rounded-2xl shadow-2xl overflow-hidden reveal-on-scroll"
            style="transition-delay: 200ms"
          >
            <div id="comparison-slider" class="comparison-slider aspect-video">
              <img
                src="./img/ChatGPT Image Sep 12, 2025, 12_36_09 PM.png"
                alt="Clear air"
                class="comparison-image-after"
                draggable="false"
                loading="lazy"
                decoding="async"
              />
              <img
                src="./img/ChatGPT Image Sep 12, 2025, 12_36_07 PM.png"
                alt="Polluted air"
                class="comparison-image-before"
                draggable="false"
                loading="lazy"
                decoding="async"
              />
              <div class="slider-handle"></div>
            </div>
          </div>
        </div>
      </section>

      <section id="specs-section" class="py-20 md:py-32 bg-gray-50">
        <div class="container mx-auto px-6">
          <div class="text-center reveal-on-scroll mb-16 md:mb-24">
            <h2
              class="text-4xl md:text-6xl font-bold text-gray-800 tracking-tight"
            >
              Intelligently Engineered.
            </h2>
            <p class="mt-6 max-w-3xl mx-auto text-lg text-gray-600">
              We've packed Air Finery with cutting-edge technology to deliver
              the purest air possible, efficiently and quietly.
            </p>
          </div>
          <div class="md:grid md:grid-cols-2 md:gap-16 items-start">
            <div class="md:sticky top-24 h-96 md:h-[70vh] mb-12 md:mb-0">
              <div id="product-viewer" class="relative w-full h-full">
                <img
                  id="image-filter"
                  src="./img/Picsart_25-09-12_16-55-18-947.jpg"
                  alt="Microfiber Media Highlight"
                  class="product-image"
                  style="opacity: 0"
                  loading="lazy"
                  decoding="async"
                />
                <img
                  id="image-carbon"
                  src="./img/Picsart_25-09-12_16-55-37-317.jpg"
                  alt="Carbon Layer Highlight"
                  class="product-image"
                  style="opacity: 0"
                  loading="lazy"
                  decoding="async"
                />
                <img
                  id="image-separation"
                  src="./img/Frame 3.png"
                  alt="NOâ‚‚ Separation Highlight"
                  class="product-image"
                  style="opacity: 0"
                  loading="lazy"
                  decoding="async"
                />
                <img
                  id="image-main"
                  src="./img/Picsart_25-09-10_11-46-12-304.png"
                  alt="Air Finery Purifier"
                  class="product-image"
                  style="opacity: 1"
                  loading="lazy"
                  decoding="async"
                />
              </div>
            </div>
            <div>
              <div class="spec-item" data-highlight="image-filter">
                <h3 class="text-3xl font-bold text-green-700">
                  Advanced Microfiber Media
                </h3>
                <p class="mt-4 text-lg text-gray-600">
                  Filters are made of highly developed microfiber media for
                  enhanced air purification performance.
                </p>
              </div>
              <div class="spec-item" data-highlight="image-carbon">
                <h3 class="text-3xl font-bold text-green-700">
                  Activated Carbon Layer
                </h3>
                <p class="mt-4 text-lg text-gray-600">
                  A special activated carbon layer is used to treat NOx and
                  harmful gases in the ambient air.
                </p>
              </div>
              <div class="spec-item" data-highlight="image-separation">
                <h3 class="text-3xl font-bold text-green-700">
                  NOâ‚‚ Separation Technology
                </h3>
                <p class="mt-4 text-lg text-gray-600">
                  The activated carbon layer separates NOâ‚‚ from ambient air
                  through physical adsorption, chemical binding, and catalytic
                  reduction.
                </p>
              </div>
              <div class="spec-item" data-highlight="image-main">
                <h3 class="text-3xl font-bold text-green-700">
                  Filtration Efficiency
                </h3>
                <p class="mt-4 text-lg text-gray-600">
                  PM2.7: 67% <br />
                  PM10: 87% <br />
                  NOx: 80%
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section
        class="py-20 md:py-32 bg-green-700 text-white relative overflow-hidden"
        id="reservation-section"
      >
        <video
          class="absolute inset-0 w-full h-full object-cover z-0"
          src="./video/Black_Tower_Draws_Fog.mp4"
          autoplay
          muted
          loop
          playsinline
          preload="none"
        ></video>

        <div class="absolute inset-0 bg-green-900/50 z-10"></div>

        <div
          class="container mx-auto px-6 text-center reveal-on-scroll relative z-20"
        >
          <h2 class="text-4xl md:text-6xl font-bold tracking-tight">
            Ready for a breath of
          </h2>
          <h2 class="text-4xl md:text-6xl font-bold tracking-tight">
            fresh air?
          </h2>
          <p class="mt-6 max-w-3xl mx-auto text-lg text-green-200">
            Join the waitlist to be the first to know when Air Finery is
            available. Early subscribers get an exclusive discount.
          </p>
          <button
            class="mt-10 px-12 py-4 bg-white text-green-700 font-bold text-lg rounded-full shadow-lg hover:bg-gray-100 transform hover:scale-105 transition-transform duration-300 animate-pulse"
          >
            Reserve Yours Now
          </button>
        </div>
      </section>
    </div>

    <footer class="bg-gray-800 text-white py-12">
      <div class="container mx-auto px-6 text-center">
        <p>&copy; 2024 Air Finery. All Rights Reserved.</p>
      </div>
    </footer>
    <script>
      // Smooth scroll for nav links
      document.addEventListener("DOMContentLoaded", function () {
        document.querySelectorAll(".scroll-link").forEach((link) => {
          link.addEventListener("click", function (e) {
            const href = this.getAttribute("href");
            if (href && href.startsWith("#")) {
              const target = document.querySelector(href);
              if (target) {
                e.preventDefault();
                target.scrollIntoView({ behavior: "smooth" });
              }
            }
          });
        });
      });
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // --- Scroll-triggered Mist Hero Animation ---
        const heroSection = document.getElementById('hero-section');
        const heroBackground = heroSection.querySelector('.hero-background');
        const canvas = document.getElementById('mist-canvas');
        const heroContent = document.getElementById('hero-content');
        let animationTriggered = false;

        // Start with a blurred background
        heroBackground.classList.add('hazy');

        if (canvas) {
            const ctx = canvas.getContext('2d');
            let particles = [];
            let animationFrameId;

            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);

            class Particle {
                constructor(x, y) {
                    this.x = x;
                    this.y = y;
                    this.radius = Math.random() * 20 + 20;
                    this.opacity = 1;
                    const angle = Math.random() * Math.PI * 2;
                    const speed = Math.random() * 6 + 2; // Faster explosion
                    this.vx = Math.cos(angle) * speed;
                    this.vy = Math.sin(angle) * speed;
                }
                update() {
                    this.x += this.vx;
                    this.y += this.vy;
                    this.opacity -= 0.015; // Fade faster
                    this.radius += 0.5;
                }
                draw() {
                    ctx.beginPath();
                    const gradient = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.radius);
                    gradient.addColorStop(0, `rgba(255, 255, 255, ${this.opacity * 0.6})`);
                    gradient.addColorStop(1, `rgba(255, 255, 255, 0)`);
                    ctx.fillStyle = gradient;
                    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                    ctx.fill();
                }
            }

            function createAndAnimateParticles() {
                const centerX = canvas.width / 2;
                const centerY = canvas.height / 2;
                particles = []; // Reset particles
                for (let i = 0; i < 400; i++) { // More particles for a bigger blast
                    particles.push(new Particle(centerX, centerY));
                }
                animate();
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                particles = particles.filter(p => p.opacity > 0);
                particles.forEach(p => {
                    p.update();
                    p.draw();
                });

                if (particles.length > 0) {
                    animationFrameId = requestAnimationFrame(animate);
                } else {
                    // After animation, ensure canvas is fully transparent
                    canvas.style.opacity = '0';
                }
            }
            
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50 && !animationTriggered) {
                    animationTriggered = true;
                    
                    // 1. Remove the blur
                    heroBackground.classList.remove('hazy');

                    // 2. Trigger the mist blast
                    canvas.style.opacity = '1'; 
                    createAndAnimateParticles();
                    
                    // 3. Fade in the text
                    setTimeout(() => {
                        heroContent.classList.add('visible');
                    }, 200);
                }
            });

            window.addEventListener('beforeunload', () => {
                if(animationFrameId) cancelAnimationFrame(animationFrameId);
            });
        }
        
        // --- General Reveal on Scroll ---
        const revealElements = document.querySelectorAll(".reveal-on-scroll");
        const revealObserver = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("is-visible");
              }
            });
          },
          {
            threshold: 0.1,
          }
        );
        revealElements.forEach((el) => revealObserver.observe(el));

        // --- Before & After Slider ---
        const slider = document.getElementById("comparison-slider");
        if (slider) {
          const beforeImage = slider.querySelector(".comparison-image-before");
          const handle = slider.querySelector(".slider-handle");

          let isDragging = false;

          function startDrag(e) {
            isDragging = true;
          }
          function stopDrag() {
            isDragging = false;
          }

          function onDrag(e) {
            if (!isDragging) return;
            const x = e.clientX || e.touches[0].clientX;
            const rect = slider.getBoundingClientRect();
            let position = ((x - rect.left) / rect.width) * 100;
            position = Math.max(0, Math.min(position, 100));
            beforeImage.style.clipPath = `polygon(0 0, ${position}% 0, ${position}% 100%, 0 100%)`;
            handle.style.left = `${position}%`;
          }

          slider.addEventListener("mousedown", startDrag);
          slider.addEventListener("touchstart", startDrag);
          window.addEventListener("mouseup", stopDrag);
          window.addEventListener("touchend", stopDrag);
          window.addEventListener("mousemove", onDrag);
          window.addEventListener("touchmove", onDrag);
        }

        // --- Interactive Specs Section (Image changes on scroll) ---
        const specItems = document.querySelectorAll(".spec-item");
        const productImages = document.querySelectorAll(".product-image");

        const specObserver = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting && entry.intersectionRatio >= 0.6) {
                const targetId = entry.target.dataset.highlight;

                // Set active class on the text item
                specItems.forEach((item) => item.classList.remove("is-active"));
                entry.target.classList.add("is-active");

                // Switch the visible image
                productImages.forEach((img) => {
                  if (img.id === targetId) {
                    img.style.opacity = "1";
                  } else {
                    img.style.opacity = "0";
                  }
                });
              }
            });
          },
          {
            threshold: 0.6,
          }
        );

        specItems.forEach((item) => {
          specObserver.observe(item);
        });

        // --- Interactive Deconstruction Logic (Hotspots) ---
        const hotspots = document.querySelectorAll(".hotspot");
        const components = document.querySelectorAll(".component-flyout");
        const hotspotInfos = document.querySelectorAll(".hotspot-info");
        const productContainer = document.getElementById("product-section");

        hotspots.forEach((hotspot) => {
          hotspot.addEventListener("mouseover", (e) => {
            e.stopPropagation();
            const targetId = hotspot.dataset.target;
            const targetComponent = document.getElementById(targetId);
            const targetInfo = hotspot.nextElementSibling;
            const isAlreadyActive =
              targetComponent.classList.contains("is-active");

            // Deactivate all others
            components.forEach((c) => c.classList.remove("is-active"));
            hotspotInfos.forEach((i) => i.classList.remove("is-active"));

            // Activate the target if it wasn't already active
            if (!isAlreadyActive) {
              targetComponent.classList.add("is-active");
              targetInfo.classList.add("is-active");
            }
          });
        });

        // Close when clicking outside the hotspots
        if (productContainer) {
          productContainer.addEventListener("click", () => {
            components.forEach((c) => c.classList.remove("is-active"));
            hotspotInfos.forEach((i) => i.classList.remove("is-active"));
          });
        }

        // --- Video Autoplay on Scroll ---
        const videos = document.querySelectorAll("video");
        const videoObserver = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.play().catch(() => {});
              } else {
                entry.target.pause();
              }
            });
          },
          { threshold: 0.25 }
        );
        videos.forEach((video) => videoObserver.observe(video));
      });
    </script>
  </body>
</html>

